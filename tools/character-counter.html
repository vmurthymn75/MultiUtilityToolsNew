<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Character Counter - Multi Utility Tools</title>
  <meta name="description" content="Count characters, words, sentences, and paragraphs in your text with detailed statistics and analysis.">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
  <link href="../assets/css/style.css" rel="stylesheet">
  <style>
    .stats-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border-radius: 1rem;
      padding: 1.5rem;
      margin: 1rem 0;
    }
    .stat-item {
      text-align: center;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 0.5rem;
      margin: 0.5rem;
    }
    .stat-number {
      font-size: 2rem;
      font-weight: bold;
      display: block;
    }
    .stat-label {
      font-size: 0.9rem;
      opacity: 0.9;
    }
    .text-analysis {
      background: #f8f9fa;
      border-radius: 0.5rem;
      padding: 1.5rem;
      margin: 1rem 0;
    }
    .common-words {
      max-height: 200px;
      overflow-y: auto;
    }
    .word-tag {
      display: inline-block;
      background: #e9ecef;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
      margin: 0.25rem;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div id="site-header"></div>
  <div class="container-fluid my-4">
    <div class="row">
      <!-- Main Tool Card -->
      <main class="col-lg-8 mb-4 mb-lg-0">
        <div class="card card-tool shadow-sm p-4">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div class="d-flex align-items-center">
              <i class="bi bi-type display-5 me-3"></i>
              <div>
                <h1 class="h3 mb-1">Character Counter</h1>
                <p class="text-muted mb-0">Count characters, words, sentences, and paragraphs in your text with detailed analysis.</p>
              </div>
            </div>
            <a href="../index.html" class="btn btn-outline-primary btn-lg d-flex align-items-center" style="white-space:nowrap;"><i class="bi bi-house-door me-2"></i>Home</a>
          </div>
          <hr>
          <!-- TOOL UI START -->
          <div id="tool-ui">
            <div class="mb-4">
              <label for="textInput" class="form-label">Enter your text</label>
              <textarea class="form-control form-control-lg" id="textInput" rows="8" placeholder="Type or paste your text here to see live character count and statistics..."></textarea>
              <div class="mt-3 d-flex flex-wrap gap-2">
                <button type="button" class="btn btn-primary" id="clearBtn"><i class="bi bi-trash me-2"></i>Clear Text</button>
                <button type="button" class="btn btn-secondary" id="sampleBtn"><i class="bi bi-file-text me-2"></i>Load Sample</button>
                <button type="button" class="btn btn-success" id="copyBtn"><i class="bi bi-clipboard me-2"></i>Copy Text</button>
              </div>
            </div>

            <!-- Live Statistics -->
            <div class="stats-card">
              <h4 class="mb-3"><i class="bi bi-graph-up me-2"></i>Live Statistics</h4>
              <div class="row">
                <div class="col-md-3 col-6">
                  <div class="stat-item">
                    <span class="stat-number" id="charCount">0</span>
                    <span class="stat-label">Characters</span>
                  </div>
                </div>
                <div class="col-md-3 col-6">
                  <div class="stat-item">
                    <span class="stat-number" id="wordCount">0</span>
                    <span class="stat-label">Words</span>
                  </div>
                </div>
                <div class="col-md-3 col-6">
                  <div class="stat-item">
                    <span class="stat-number" id="sentenceCount">0</span>
                    <span class="stat-label">Sentences</span>
                  </div>
                </div>
                <div class="col-md-3 col-6">
                  <div class="stat-item">
                    <span class="stat-number" id="paragraphCount">0</span>
                    <span class="stat-label">Paragraphs</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Detailed Analysis -->
            <div class="text-analysis">
              <h4 class="mb-3"><i class="bi bi-bar-chart me-2"></i>Detailed Analysis</h4>
              <div class="row">
                <div class="col-md-6">
                  <h6>Reading Time</h6>
                  <p><strong id="readingTime">0 minutes</strong> (average reading speed: 200 words/minute)</p>
                  
                  <h6>Speaking Time</h6>
                  <p><strong id="speakingTime">0 minutes</strong> (average speaking speed: 150 words/minute)</p>
                  
                  <h6>Character Details</h6>
                  <p>Characters (with spaces): <strong id="charWithSpaces">0</strong></p>
                  <p>Characters (without spaces): <strong id="charWithoutSpaces">0</strong></p>
                  <p>Letters: <strong id="letterCount">0</strong></p>
                  <p>Numbers: <strong id="numberCount">0</strong></p>
                  <p>Special characters: <strong id="specialCharCount">0</strong></p>
                </div>
                <div class="col-md-6">
                  <h6>Text Density</h6>
                  <p>Average word length: <strong id="avgWordLength">0</strong> characters</p>
                  <p>Average sentence length: <strong id="avgSentenceLength">0</strong> words</p>
                  <p>Average paragraph length: <strong id="avgParagraphLength">0</strong> sentences</p>
                  
                  <h6>Most Common Words</h6>
                  <div class="common-words" id="commonWords">
                    <p class="text-muted">Start typing to see common words...</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- TOOL UI END -->
        </div>
      </main>
      <!-- Sidebar Ad Section -->
      <aside class="col-lg-4">
        <div class="ad-placeholder mb-4">
          <span class="text-muted">Sponsored</span><br>Ad Space
        </div>
      </aside>
    </div>
  </div>
  <div id="site-footer"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../assets/js/header-footer.js"></script>
  <script>
    // Character Counter Tool Logic
    class CharacterCounter {
      constructor() {
        this.textInput = document.getElementById('textInput');
        this.clearBtn = document.getElementById('clearBtn');
        this.sampleBtn = document.getElementById('sampleBtn');
        this.copyBtn = document.getElementById('copyBtn');
        
        this.initializeEventListeners();
        this.updateStatistics();
      }

      initializeEventListeners() {
        this.textInput.addEventListener('input', () => this.updateStatistics());
        this.clearBtn.addEventListener('click', () => this.clearText());
        this.sampleBtn.addEventListener('click', () => this.loadSampleText());
        this.copyBtn.addEventListener('click', () => this.copyText());
      }

      updateStatistics() {
        const text = this.textInput.value;
        
        // Basic counts
        const charCount = text.length;
        const charWithoutSpaces = text.replace(/\s/g, '').length;
        const words = text.trim() ? text.trim().split(/\s+/) : [];
        const wordCount = words.length;
        const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
        const sentenceCount = sentences.length;
        const paragraphs = text.split(/\n\s*\n/).filter(p => p.trim().length > 0);
        const paragraphCount = paragraphs.length;

        // Update basic statistics
        document.getElementById('charCount').textContent = charCount;
        document.getElementById('charWithSpaces').textContent = charCount;
        document.getElementById('charWithoutSpaces').textContent = charWithoutSpaces;
        document.getElementById('wordCount').textContent = wordCount;
        document.getElementById('sentenceCount').textContent = sentenceCount;
        document.getElementById('paragraphCount').textContent = paragraphCount;

        // Character analysis
        const letters = text.match(/[a-zA-Z]/g) || [];
        const numbers = text.match(/[0-9]/g) || [];
        const specialChars = text.match(/[^a-zA-Z0-9\s]/g) || [];

        document.getElementById('letterCount').textContent = letters.length;
        document.getElementById('numberCount').textContent = numbers.length;
        document.getElementById('specialCharCount').textContent = specialChars.length;

        // Reading and speaking time
        const readingTime = Math.ceil(wordCount / 200);
        const speakingTime = Math.ceil(wordCount / 150);
        
        document.getElementById('readingTime').textContent = `${readingTime} minute${readingTime !== 1 ? 's' : ''}`;
        document.getElementById('speakingTime').textContent = `${speakingTime} minute${speakingTime !== 1 ? 's' : ''}`;

        // Text density
        const avgWordLength = wordCount > 0 ? (letters.length / wordCount).toFixed(1) : 0;
        const avgSentenceLength = sentenceCount > 0 ? (wordCount / sentenceCount).toFixed(1) : 0;
        const avgParagraphLength = paragraphCount > 0 ? (sentenceCount / paragraphCount).toFixed(1) : 0;

        document.getElementById('avgWordLength').textContent = avgWordLength;
        document.getElementById('avgSentenceLength').textContent = avgSentenceLength;
        document.getElementById('avgParagraphLength').textContent = avgParagraphLength;

        // Common words analysis
        this.updateCommonWords(words);
      }

      updateCommonWords(words) {
        const wordFreq = {};
        words.forEach(word => {
          const cleanWord = word.toLowerCase().replace(/[^a-z]/g, '');
          if (cleanWord.length > 2) {
            wordFreq[cleanWord] = (wordFreq[cleanWord] || 0) + 1;
          }
        });

        const sortedWords = Object.entries(wordFreq)
          .sort(([,a], [,b]) => b - a)
          .slice(0, 10);

        const commonWordsContainer = document.getElementById('commonWords');
        if (sortedWords.length === 0) {
          commonWordsContainer.innerHTML = '<p class="text-muted">No common words found...</p>';
          return;
        }

        commonWordsContainer.innerHTML = sortedWords
          .map(([word, count]) => `<span class="word-tag">${word} (${count})</span>`)
          .join('');
      }

      clearText() {
        this.textInput.value = '';
        this.updateStatistics();
        this.textInput.focus();
      }

      loadSampleText() {
        const sampleText = `Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.

Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

This sample text contains multiple paragraphs with various types of content including numbers (123), special characters (!@#), and different sentence structures to demonstrate the character counter's capabilities.`;

        this.textInput.value = sampleText;
        this.updateStatistics();
      }

      async copyText() {
        try {
          await navigator.clipboard.writeText(this.textInput.value);
          this.showNotification('Text copied to clipboard!', 'success');
        } catch (err) {
          this.showNotification('Failed to copy text', 'error');
        }
      }

      showNotification(message, type) {
        const alertClass = type === 'success' ? 'alert-success' : 'alert-danger';
        const alert = document.createElement('div');
        alert.className = `alert ${alertClass} alert-dismissible fade show position-fixed`;
        alert.style.cssText = 'top: 20px; right: 20px; z-index: 9999; min-width: 300px;';
        alert.innerHTML = `
          ${message}
          <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        `;
        
        document.body.appendChild(alert);
        
        setTimeout(() => {
          if (alert.parentNode) {
            alert.remove();
          }
        }, 3000);
      }
    }

    // Initialize the tool when the page loads
    document.addEventListener('DOMContentLoaded', () => {
      new CharacterCounter();
    });
  </script>
</body>
</html> 